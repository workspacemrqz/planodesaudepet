{
  "build": {
    "type": "buildpacks",
    "builder": "heroku/builder:24",
    "buildCommand": "npm run heroku-postbuild",
    "context": ".",
    "dockerfile": null
  },
  "env": {
    "NODE_ENV": "production",
    "NPM_CONFIG_PRODUCTION": "false",
    "NODE_VERBOSE": "true",
    "PORT": "8080",
    "HOST": "0.0.0.0",
    "DATABASE_URL": {
      "description": "PostgreSQL database URL (required)",
      "required": true
    },
    "ADMIN_USER": {
      "description": "Admin username/email for login",
      "required": true
    },
    "ADMIN_PASSWORD": {
      "description": "Admin password (minimum 12 characters)",
      "required": true
    },
    "SESSION_SECRET": {
      "description": "Secret key for session management (minimum 32 characters)",
      "required": true
    },
    "LOGIN": {
      "description": "Alternative admin login (legacy support)",
      "required": false
    },
    "SENHA": {
      "description": "Alternative admin password (legacy support)",
      "required": false
    }
  },
  "healthCheck": {
    "path": "/api/diagnostic",
    "interval": 30,
    "timeout": 10,
    "retries": 3,
    "startPeriod": 60
  },
  "ports": [
    {
      "published": 80,
      "target": 8080,
      "protocol": "http"
    }
  ],
  "start": {
    "cmd": "npm start"
  },
  "resources": {
    "limits": {
      "memory": "512Mi",
      "cpu": "500m"
    },
    "requests": {
      "memory": "256Mi",
      "cpu": "250m"
    }
  }
}
